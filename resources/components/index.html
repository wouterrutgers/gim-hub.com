<!DOCTYPE html>
<html>
  <head>
    <title>Group Ironmen</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      {{style}}
    </style>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="preload" href="/fonts/RuneScape-Chat-07.ttf" as="font" type="font/ttf" crossorigin />

    <script>
      window.getTheme = () => {
        let theme = localStorage.getItem("theme");

        if (!theme && window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) {
          theme = "dark";
        }

        return theme;
      };

      window.updateTheme = () => {
        const theme = window.getTheme();
        const darkMode = theme === "dark";
        if (darkMode) {
          document.documentElement.classList.add("dark-mode");
        } else {
          document.documentElement.classList.remove("dark-mode");
        }
      };

      window.updateTheme(true);
    </script>
  </head>
  <body>
    <loading-screen></loading-screen>
    <app-route
      route-path="/"
      route-component="men-homepage"
      route-outlet=".unauthed-section__outlet"
      route-wrapper=".unauthed-section"
    ></app-route>
    <app-route
      route-path="/create-group"
      route-component="create-group"
      route-outlet=".unauthed-section__outlet"
      route-wrapper=".unauthed-section"
    ></app-route>
    <app-route
      route-path="/setup-instructions"
      route-component="setup-instructions"
      route-outlet=".unauthed-section__outlet"
      route-wrapper=".unauthed-section"
    ></app-route>
    <app-route
      route-path="/login"
      route-component="login-page"
      route-outlet=".unauthed-section__outlet"
      route-wrapper=".unauthed-section"
    ></app-route>
    <app-route
      route-path="/logout"
      route-component="logout-page"
      route-outlet=".unauthed-section__outlet"
      route-wrapper=".unauthed-section"
    ></app-route>
    <app-route
      route-path="/demo"
      route-component="demo-page"
      route-outlet=".unauthed-section__outlet"
      route-wrapper=".unauthed-section"
    ></app-route>

    <app-route
      route-path="/"
      route-component="items-page"
      route-outlet=".authed-section__outlet"
      route-wrapper=".authed-section"
    ></app-route>
    <app-route route-path="/items" alias-for="/" route-wrapper=".authed-section"></app-route>
    <app-route
      route-path="/map"
      route-component="map-page"
      route-outlet=".authed-section__outlet"
      route-wrapper=".authed-section"
    ></app-route>
    <app-route
      route-path="/settings"
      route-component="group-settings"
      route-outlet=".authed-section__outlet"
      route-wrapper=".authed-section"
    ></app-route>
    <app-route
      route-path="/graphs"
      route-component="skills-graphs"
      route-outlet=".authed-section__outlet"
      route-wrapper=".authed-section"
      ></app-route>
    <app-route
      route-path="/panels"
      route-component="panels-page"
      route-outlet=".authed-section__outlet"
      route-wrapper=".authed-section"
    ></app-route>

    <canvas-map id="background-worldmap"></canvas-map>
    <wrap-routes class="unauthed-section" route-path="">
      <template>
        <main class="unauthed-section__outlet"></main>
      </template>
    </wrap-routes>

    <wrap-routes class="authed-section" route-path="/group">
      <template>
        <app-initializer></app-initializer>
        <div class="authed-section__main-content">
          <app-navigation class="rsborder-tiny rsbackground"></app-navigation>
          <div class="authed-section__outlet"></div>
        </div>
        <side-panel></side-panel>
      </template>
    </wrap-routes>

    <rs-tooltip></rs-tooltip>
    <confirm-dialog class="dialog"></confirm-dialog>
    <script>{{js}}</script>
    <app-route route-path="*" route-redirect="/"></app-route>
  </body>
</html>
